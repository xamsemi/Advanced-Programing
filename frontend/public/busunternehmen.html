<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Busunternehmen | Adminbereich</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/styles1.css">
</head>
<!-- navbar oben -->
<body > 
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow">
    <div class="container">
      <a class="navbar-brand fw-semibold" href="admin_dashboard.html">Adminbereich</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="admin_fahrten.html">Fahrten</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="busunternehmen.html">Busunternehmen</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="mitgliederverwaltung.html">Mitglieder</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-danger" href="index.html">Logout</a>
          </li> <!-- Logout href noch anpassen -->
        </ul>
      </div>
    </div>
  </nav>

  <main class="container py-5">
    <div class="text-center mb-5">
      <h1 class="fw-bold text-light mb-3">Verwaltung der Busunternehmen</h1>
      <p class="text-secondary">Alle registrierten Busunternehmen einsehen und verwalten.</p>
      <a href="busunternehmen_hinzufuegen.html" class="btn btn-primary mt-3 px-4">  + Neues Unternehmen hinzufügen</a>

      <button class="btn btn-primary mt-3 px-4">Anfrage an alle Unternehmen senden</button>
    </div>
<!-- Tabelle fuer Busunternehmen -->
    <div class="card shadow-lg admin-card">
      <div class="card-body">
        <table class="table table-dark table-hover align-middle mb-0 rounded">
          <thead>
            <tr class="text-primary">
              <th scope="col">Name</th>
              <th scope="col">Busgröße</th>
              <th scope="col">Sitzplätze</th>
              <th scope="col">Anschrift</th>
              <th scope="col">Kontakt</th>
              <th scope="col" class="text-center">Aktionen</th>
            </tr>
          </thead>
          
          <tbody>
            <tr>
              <td>Busreisen Müller GmbH</td>
              <td>Großbus</td>
              <td>50</td>
              <td>Hauptstraße 12, 72379 Hechingen</td>
              <td>info@busmueller.de</td>
              <td class="text-center">
                <a href="busunternehmen_bearbeiten.html" class="btn btn-sm btn-outline-warning me-2">Bearbeiten</a>
                <button class="btn btn-sm btn-outline-danger">Löschen</button>
              </td>
            </tr>
            <tr>
              <td>Reiseverkehr Schmid</td>
              <td>Minibus</td>
              <td>20</td>
              <td>Fasanenweg 4, 72406 Bisingen</td>
              <td>kontakt@reiseschmid.de</td>
              <td class="text-center">
                <a href="busunternehmen_bearbeiten.html" class="btn btn-sm btn-outline-warning me-2">Bearbeiten</a>
                <button class="btn btn-sm btn-outline-danger">Löschen</button>
              </td>
            </tr>
            <tr>
              <td>Touristik Zollerland</td>
              <td>Reisebus</td>
              <td>40</td>
              <td>Zollerstraße 8, 72336 Balingen</td>
              <td>office@zollerland-tours.de</td>
              <td class="text-center">
                <a href="busunternehmen_bearbeiten.html" class="btn btn-sm btn-outline-warning me-2">Bearbeiten</a>
                <button class="btn btn-sm btn-outline-danger">Löschen</button>
              </td>
            </tr>
          </tbody>
          <tbody id="bus-table-body">
    <!-- Wird dynamisch mit JS gefüllt -->
        </tbody>
        </table>

<script>
async function loadBuses() {
  const response = await fetch("/api/buses"); // API-Endpunkt anpassen! Richtig wäre z.B. "/api/buses"
  const data = await response.json();

  const tbody = document.getElementById("bus-table-body");
  tbody.innerHTML = ""; // leeren

  data.data.forEach(bus => {
    const row = document.createElement("tr");
    row.innerHTML = `
      <td> Name Bus9977</td>
      <td> groesse 9988</td>
      <td>${bus.bus_seats}</td>
      <td>Anschrift</td>
      <td>Kontakt</td>
      
    `;
    tbody.appendChild(row);
  });
}

loadBuses();
</script>



      </div>
    </div>
  </main>


 <footer class="text-center text-secondary py-4">
    <small>© 2025 Fasnets-Busreisen – Adminbereich</small>
  </footer>



  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
